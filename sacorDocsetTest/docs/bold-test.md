---
title: 'DA0007: Evitare di usare eccezioni per il flusso di controllo | Microsoft Docs'
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.performance.rules.DAExceptionsThrown
- vs.performance.7
- vs.performance.rules.DA0007
- vs.performance.DA0007
ms.assetid: ee8ba8b5-2313-46c9-b129-3f3a2a232898
author: mikejo5000
ms.author: mikejo
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: 7ae7b890e12d56e61571ecbf72dc1b0cd39567a4
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 01/02/2019
ms.locfileid: "53898203"
---
# <a name="da0007-avoid-using-exceptions-for-control-flow"></a><span data-ttu-id="ca378-102">DA0007: Evitare di usare eccezioni per il flusso di controllo</span><span class="sxs-lookup"><span data-stu-id="ca378-102">DA0007: Avoid using exceptions for control flow</span></span>

|||  
|-|-|  
|<span data-ttu-id="ca378-103">ID regola</span><span class="sxs-lookup"><span data-stu-id="ca378-103">Rule Id</span></span>|<span data-ttu-id="ca378-104">DA0007</span><span class="sxs-lookup"><span data-stu-id="ca378-104">DA0007</span></span>|  
|<span data-ttu-id="ca378-105">Category</span><span class="sxs-lookup"><span data-stu-id="ca378-105">Category</span></span>|<span data-ttu-id="ca378-106">Uso di .NET Framework</span><span class="sxs-lookup"><span data-stu-id="ca378-106">.NET Framework Usage</span></span>|  
|<span data-ttu-id="ca378-107">Metodi di profilatura</span><span class="sxs-lookup"><span data-stu-id="ca378-107">Profiling methods</span></span>|<span data-ttu-id="ca378-108">Tutti</span><span class="sxs-lookup"><span data-stu-id="ca378-108">All</span></span>|  
|<span data-ttu-id="ca378-109">Messaggio</span><span class="sxs-lookup"><span data-stu-id="ca378-109">Message</span></span>|<span data-ttu-id="ca378-110">Rilevato un elevato numero costante di eccezioni.</span><span class="sxs-lookup"><span data-stu-id="ca378-110">A high number of exceptions are consistently being thrown.</span></span> <span data-ttu-id="ca378-111">Provare a ridurre l'utilizzo di eccezioni nella logica di programma.</span><span class="sxs-lookup"><span data-stu-id="ca378-111">Consider reducing the use of exceptions in program logic.</span></span>|  
|<span data-ttu-id="ca378-112">Tipo messaggio</span><span class="sxs-lookup"><span data-stu-id="ca378-112">Message type</span></span>|<span data-ttu-id="ca378-113">Avviso</span><span class="sxs-lookup"><span data-stu-id="ca378-113">Warning</span></span>|  

 <span data-ttu-id="ca378-114">Quando si esegue la profilatura tramite i metodi di campionamento, memoria .NET o conflitto di risorse, è necessario raccogliere almeno 25 campioni per attivare questa regola.</span><span class="sxs-lookup"><span data-stu-id="ca378-114">When you profile by using the sampling, .NET memory, or resource contention methods, you must collect at least 25 samples to trigger this rule.</span></span>  

## <a name="cause"></a><span data-ttu-id="ca378-115">Causa</span><span class="sxs-lookup"><span data-stu-id="ca378-115">Cause</span></span>  
 <span data-ttu-id="ca378-116">Nei dati di profilatura è stato chiamato un numero elevato di gestori di eccezioni di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="ca378-116">A high rate of .NET Framework exception handlers were called in the profiling data.</span></span> <span data-ttu-id="ca378-117">Considerare la possibilità di usare un'altra logica di flusso di controllo per ridurre il numero di eccezioni generate.</span><span class="sxs-lookup"><span data-stu-id="ca378-117">Consider using other control flow logic to reduce the number of exceptions that are thrown.</span></span>  

## <a name="rule-description"></a><span data-ttu-id="ca378-118">Descrizione della regola</span><span class="sxs-lookup"><span data-stu-id="ca378-118">Rule description</span></span>  
 <span data-ttu-id="ca378-119">Sebbene l'uso di gestori di eccezioni per rilevare gli errori e di altri eventi che compromettono l'esecuzione del programma sia una procedura consigliata, l'uso di un gestore di eccezioni come parte della normale logica di esecuzione del programma può essere costoso e deve essere evitato.</span><span class="sxs-lookup"><span data-stu-id="ca378-119">While the use of exception handlers to catch errors and other events that disrupt program execution is a good practice, the use of exception handler as part of the regular program execution logic can be expensive and should be avoided.</span></span> <span data-ttu-id="ca378-120">Nella maggior parte dei casi, le eccezioni devono essere usate solo in circostanze eccezionali e impreviste.</span><span class="sxs-lookup"><span data-stu-id="ca378-120">In most cases, exceptions should be used only for circumstances that occur infrequently and are not expected.</span></span> <span data-ttu-id="ca378-121">Le eccezioni non devono essere usate per restituire valori come parte del flusso di programma normale.</span><span class="sxs-lookup"><span data-stu-id="ca378-121">Exceptions should not be used to return values as part of the typical program flow.</span></span> <span data-ttu-id="ca378-122">In molti casi per evitare la generazione di eccezioni è possibile convalidare i valori e usare logica condizionale per arrestare l'esecuzione delle istruzioni che provocano il problema.</span><span class="sxs-lookup"><span data-stu-id="ca378-122">In many cases, you can avoid raising exceptions by validating values and using conditional logic to halt the execution of statements that cause the problem.</span></span>  

 <span data-ttu-id="ca378-123">Per altre informazioni, vedere la sezione [Exception Management](http://go.microsoft.com/fwlink/?LinkID=177825) (Gestione delle eccezioni) in **Chapter 5 - Improving Managed Code Performance** (Capitolo 5 - Miglioramento delle prestazioni del codice gestito) nel volume **Improving .NET Application Performance and Scalability** (Miglioramento delle prestazioni e della scalabilità delle applicazioni .NET) della libreria **Microsoft Patterns and Practices** in MSDN.</span><span class="sxs-lookup"><span data-stu-id="ca378-123">For more information, see the [Exception Management](http://go.microsoft.com/fwlink/?LinkID=177825) section of **Chapter 5 — Improving Managed Code Performance** in the **Improving .NET Application Performance and Scalability** volume of the **Microsoft Patterns and Practices** library on MSDN.</span></span>  

## <a name="how-to-investigate-a-warning"></a><span data-ttu-id="ca378-124">Come esaminare un avviso</span><span class="sxs-lookup"><span data-stu-id="ca378-124">How to investigate a warning</span></span>  
 <span data-ttu-id="ca378-125">Fare doppio clic sul messaggio nella finestra Elenco errori per passare alla visualizzazione Contrassegni.</span><span class="sxs-lookup"><span data-stu-id="ca378-125">Double-click the message in the Error List window to navigate to the Marks view.</span></span> <span data-ttu-id="ca378-126">Trovare la colonna che contiene le misurazioni **Eccezioni CLR .NET(@ProcessInstance)\\Eccezioni / sec**.</span><span class="sxs-lookup"><span data-stu-id="ca378-126">Find the column that contains the **.NET CLR Exceptions(@ProcessInstance)\\# of Excels Thrown / sec** measurements.</span></span> <span data-ttu-id="ca378-127">Determinare se sono presenti fasi specifiche di esecuzione del programma in cui la gestione delle eccezioni risulta più frequente rispetto alle altre fasi.</span><span class="sxs-lookup"><span data-stu-id="ca378-127">Determine if there are specific phases of program execution where exception handling is more frequent than others.</span></span> <span data-ttu-id="ca378-128">Usando un profilo di campionamento, provare a identificare le istruzioni throw e i blocchi try/catch che generano eccezioni frequenti.</span><span class="sxs-lookup"><span data-stu-id="ca378-128">Using a sampling profile, try to identify throw statements and try/catch blocks that generate frequent exceptions.</span></span> <span data-ttu-id="ca378-129">Se necessario, aggiungere logica ai blocchi catch per individuare le eccezioni che vengono gestite più spesso.</span><span class="sxs-lookup"><span data-stu-id="ca378-129">If necessary, add logic to catch blocks to help you understand which exceptions are being handled most frequently.</span></span> <span data-ttu-id="ca378-130">Dove possibile, sostituire le istruzioni throw o i blocchi catch eseguiti frequentemente con una logica di controllo di flusso o un codice di convalida a bassa complessità.</span><span class="sxs-lookup"><span data-stu-id="ca378-130">Where possible, replace frequently executed throw statements or catch blocks with simple flow control logic or validation code.</span></span>  

 <span data-ttu-id="ca378-131">Ad esempio, se si rileva che l'applicazione sta gestendo eccezioni DivideByZeroException frequenti, per migliorare le prestazioni dell'applicazione è possibile aggiungere logica al programma per verificare la presenza di denominatori con valori zero.</span><span class="sxs-lookup"><span data-stu-id="ca378-131">For example, if you were to find that your application was handling frequent DivideByZeroException exceptions, adding logic to your program to check for denominators with zero values improves the performance of the application.</span></span>